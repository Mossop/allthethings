query ListContextState {
  user {
    id
    email

    ...rootFields

    contexts {
      id
      stub
      name

      ...rootFields
    }
  }
}

fragment rootFields on ProjectRoot {
  remainingTasks
  subprojects {
    id
  }
  projects {
    id
    stub
    name
    remainingTasks
    subprojects {
      id
    }
  }
}

query ListTaskList($taskList: ID!) {
  taskList(id: $taskList) {
    remainingTasks

    items {
      ...itemFields
    }

    sections {
      id
      name
      remainingTasks

      items {
        ...itemFields
      }
    }
  }
}

fragment itemFields on Item {
  id
  summary

  ... on Task {
    done
  }

  ... on File {
    size
    filename
    mimetype
  }

  ... on Note {
    note
  }

  ... on Link {
    icon
    link
  }
}
